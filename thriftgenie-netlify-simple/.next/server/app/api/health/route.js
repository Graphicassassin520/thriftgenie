"use strict";(()=>{var e={};e.id=829,e.ids=[829],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7441:e=>{e.exports=require("sharp")},2651:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>g,patchFetch:()=>y,requestAsyncStorage:()=>l,routeModule:()=>h,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var s={};a.r(s),a.d(s,{GET:()=>u,dynamic:()=>c});var r=a(9303),o=a(8716),n=a(670),i=a(7070),p=a(2040);let c="force-dynamic";async function u(){try{console.log("\uD83D\uDD0D Health check requested...");let e=new Date,t=Date.now(),a=`deploy-${t.toString(36)}`.toUpperCase(),s=await (0,p.gZ)(),r=!!process.env.OPENAI_API_KEY,o="healthy"===s.status&&r?"healthy":"unhealthy";console.log(`✅ Health check completed - Status: ${o}`);let n={status:o,timestamp:e.toISOString(),buildTimestamp:t,deploymentId:a,deployment:{status:"LIVE & UPDATED",cacheStatus:"BYPASSED",lastCheck:e.toISOString(),cacheBusting:"ACTIVE"},services:{openai:{status:s.status,model:s.model,message:s.message},configuration:{api_key:r?"configured":"missing",environment:"production"},cache:{status:"BYPASSED",headers:"ACTIVE",busting:"ENABLED"}},ai_system:"OpenAI Only",powered_by:"OpenAI GPT-4o-mini Vision API",mock_ai_status:"Disabled - OpenAI Only Mode",features:{cacheBypass:!0,deploymentIndicators:!0,realTimeUpdates:!0,liveStatus:!0}},c=i.NextResponse.json(n);return c.headers.set("Cache-Control","no-cache, no-store, must-revalidate, max-age=0"),c.headers.set("Pragma","no-cache"),c.headers.set("Expires","0"),c.headers.set("X-Deployment-ID",a),c.headers.set("X-Health-Check",e.toISOString()),c.headers.set("X-Cache-Status","BYPASSED"),c.headers.set("X-Status",o.toUpperCase()),c}catch(t){console.error("❌ Health check failed:",t);let e=i.NextResponse.json({status:"error",timestamp:new Date().toISOString(),error:t.message||"Health check failed",ai_system:"OpenAI Only",powered_by:"OpenAI GPT-4o-mini Vision API",mock_ai_status:"Disabled - OpenAI Only Mode",deployment:{status:"ERROR",cacheStatus:"BYPASSED"}},{status:500});return e.headers.set("Cache-Control","no-cache, no-store, must-revalidate"),e.headers.set("Pragma","no-cache"),e.headers.set("Expires","0"),e}}let h=new r.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/health/route",pathname:"/api/health",filename:"route",bundlePath:"app/api/health/route"},resolvedPagePath:"/Users/johnstuart/Downloads/AI_Image_Analysis_for_Products/listing-optimizer/app/app/api/health/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:m}=h,g="/api/health/route";function y(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[276,972,991,40],()=>a(2651));module.exports=s})();